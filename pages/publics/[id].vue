<template>
    <Articles />
        <div class="main">

            <div></div>

            <div class="content">
                <div class="header">
                    <h1 class="text_header">{{ pub.data.value.name }}</h1>
                    <p class="text_header" style="font-size: 16px;">{{ subs.data.value }} подписчиков</p>
                </div>

                <div class="posts_public">
                    <div class="posts">
                        <div class="header_post">
                            <p class="text_header padding">{{ titile }}</p>
                            <img src="/public/img/image 5.svg" alt="fff">
                        </div>

                        <div class="eee">
                            <p class="text_post">Долгожданный первый трейлер следующей игры Grand Theft Auto наконец-то вышел, и вы можете посмотреть его ниже!

Трейлер должен был быть представлен во вторник, 5 декабря, в 9 утра по восточному времени. Однако трейлер GTA 6, к сожалению, просочился в Твиттер на несколько часов раньше, поэтому Rockstar Games решила опубликовать и официальную версию раньше.</p>

                            <div class="interactions">
                                <div class="div_like" >
                                    <img src="~/public/img/Facebook Like.svg" alt="NO" class="img_like">
                                    <p class="quantity_like">{{ parseNumber(44444) }}</p>
                                </div>


                                <div class="div_dizlike" >
                                    <img src="~/public/img/Facebook DizLike.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>
                                <div class="div_commnets" >
                                    <img src="~/public/img/Chat Message.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_viewing" >
                                    <img src="~/public/img/Eye.svg" alt="NO" class="img_like">
                                    <p class="quantity_view">{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_share" >
                                    <img src="~/public/img/Share.svg" alt="NO" class="img_like" >
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="posts_public">
                    <div class="posts">
                        <div class="header_post">
                            <p class="text_header padding">{{ titile }}</p>
                            <img src="/public/img/image 5.svg" alt="fff">
                        </div>

                        <div class="eee">
                            <p class="text_post">Долгожданный первый трейлер следующей игры Grand Theft Auto наконец-то вышел, и вы можете посмотреть его ниже!

Трейлер должен был быть представлен во вторник, 5 декабря, в 9 утра по восточному времени. Однако трейлер GTA 6, к сожалению, просочился в Твиттер на несколько часов раньше, поэтому Rockstar Games решила опубликовать и официальную версию раньше.</p>

                            <div class="interactions">
                                <div class="div_like" >
                                    <img src="~/public/img/Facebook Like.svg" alt="NO" class="img_like">
                                    <p class="quantity_like">{{ parseNumber(44444) }}</p>
                                </div>


                                <div class="div_dizlike" >
                                    <img src="~/public/img/Facebook DizLike.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>
                                <div class="div_commnets" >
                                    <img src="~/public/img/Chat Message.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_viewing" >
                                    <img src="~/public/img/Eye.svg" alt="NO" class="img_like">
                                    <p class="quantity_view">{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_share" >
                                    <img src="~/public/img/Share.svg" alt="NO" class="img_like" >
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="posts_public">
                    <div class="posts">
                        <div class="header_post">
                            <p class="text_header padding">{{ titile }}</p>
                            <img src="/public/img/image 5.svg" alt="fff">
                        </div>

                        <div class="eee">
                            <p class="text_post">Долгожданный первый трейлер следующей игры Grand Theft Auto наконец-то вышел, и вы можете посмотреть его ниже!

Трейлер должен был быть представлен во вторник, 5 декабря, в 9 утра по восточному времени. Однако трейлер GTA 6, к сожалению, просочился в Твиттер на несколько часов раньше, поэтому Rockstar Games решила опубликовать и официальную версию раньше.</p>

                            <div class="interactions">
                                <div class="div_like" >
                                    <img src="~/public/img/Facebook Like.svg" alt="NO" class="img_like">
                                    <p class="quantity_like">{{ parseNumber(44444) }}</p>
                                </div>


                                <div class="div_dizlike" >
                                    <img src="~/public/img/Facebook DizLike.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>
                                <div class="div_commnets" >
                                    <img src="~/public/img/Chat Message.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_viewing" >
                                    <img src="~/public/img/Eye.svg" alt="NO" class="img_like">
                                    <p class="quantity_view">{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_share" >
                                    <img src="~/public/img/Share.svg" alt="NO" class="img_like" >
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="posts_public">
                    <div class="posts">
                        <div class="header_post">
                            <p class="text_header padding">{{ titile }}</p>
                            <img src="/public/img/image 5.svg" alt="fff">
                        </div>

                        <div class="eee">
                            <p class="text_post">Долгожданный первый трейлер следующей игры Grand Theft Auto наконец-то вышел, и вы можете посмотреть его ниже!

Трейлер должен был быть представлен во вторник, 5 декабря, в 9 утра по восточному времени. Однако трейлер GTA 6, к сожалению, просочился в Твиттер на несколько часов раньше, поэтому Rockstar Games решила опубликовать и официальную версию раньше.</p>

                            <div class="interactions">
                                <div class="div_like" >
                                    <img src="~/public/img/Facebook Like.svg" alt="NO" class="img_like">
                                    <p class="quantity_like">{{ parseNumber(44444) }}</p>
                                </div>


                                <div class="div_dizlike" >
                                    <img src="~/public/img/Facebook DizLike.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>
                                <div class="div_commnets" >
                                    <img src="~/public/img/Chat Message.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_viewing" >
                                    <img src="~/public/img/Eye.svg" alt="NO" class="img_like">
                                    <p class="quantity_view">{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_share" >
                                    <img src="~/public/img/Share.svg" alt="NO" class="img_like" >
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="posts_public">
                    <div class="posts">
                        <div class="header_post">
                            <p class="text_header padding">{{ titile }}</p>
                            <img src="/public/img/image 5.svg" alt="fff">
                        </div>

                        <div class="eee">
                            <p class="text_post">Долгожданный первый трейлер следующей игры Grand Theft Auto наконец-то вышел, и вы можете посмотреть его ниже!

Трейлер должен был быть представлен во вторник, 5 декабря, в 9 утра по восточному времени. Однако трейлер GTA 6, к сожалению, просочился в Твиттер на несколько часов раньше, поэтому Rockstar Games решила опубликовать и официальную версию раньше.</p>

                            <div class="interactions">
                                <div class="div_like" >
                                    <img src="~/public/img/Facebook Like.svg" alt="NO" class="img_like">
                                    <p class="quantity_like">{{ parseNumber(44444) }}</p>
                                </div>


                                <div class="div_dizlike" >
                                    <img src="~/public/img/Facebook DizLike.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>
                                <div class="div_commnets" >
                                    <img src="~/public/img/Chat Message.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_viewing" >
                                    <img src="~/public/img/Eye.svg" alt="NO" class="img_like">
                                    <p class="quantity_view">{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_share" >
                                    <img src="~/public/img/Share.svg" alt="NO" class="img_like" >
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="posts_public">
                    <div class="posts">
                        <div class="header_post">
                            <p class="text_header padding">{{ titile }}</p>
                            <img src="/public/img/image 5.svg" alt="fff">
                        </div>

                        <div class="eee">
                            <p class="text_post">Долгожданный первый трейлер следующей игры Grand Theft Auto наконец-то вышел, и вы можете посмотреть его ниже!

Трейлер должен был быть представлен во вторник, 5 декабря, в 9 утра по восточному времени. Однако трейлер GTA 6, к сожалению, просочился в Твиттер на несколько часов раньше, поэтому Rockstar Games решила опубликовать и официальную версию раньше.</p>

                            <div class="interactions">
                                <div class="div_like" >
                                    <img src="~/public/img/Facebook Like.svg" alt="NO" class="img_like">
                                    <p class="quantity_like">{{ parseNumber(44444) }}</p>
                                </div>


                                <div class="div_dizlike" >
                                    <img src="~/public/img/Facebook DizLike.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>
                                <div class="div_commnets" >
                                    <img src="~/public/img/Chat Message.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_viewing" >
                                    <img src="~/public/img/Eye.svg" alt="NO" class="img_like">
                                    <p class="quantity_view">{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_share" >
                                    <img src="~/public/img/Share.svg" alt="NO" class="img_like" >
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="posts_public">
                    <div class="posts">
                        <div class="header_post">
                            <p class="text_header padding">{{ titile }}</p>
                            <img src="/public/img/image 5.svg" alt="fff">
                        </div>

                        <div class="eee">
                            <p class="text_post">Долгожданный первый трейлер следующей игры Grand Theft Auto наконец-то вышел, и вы можете посмотреть его ниже!

Трейлер должен был быть представлен во вторник, 5 декабря, в 9 утра по восточному времени. Однако трейлер GTA 6, к сожалению, просочился в Твиттер на несколько часов раньше, поэтому Rockstar Games решила опубликовать и официальную версию раньше.</p>

                            <div class="interactions">
                                <div class="div_like" >
                                    <img src="~/public/img/Facebook Like.svg" alt="NO" class="img_like">
                                    <p class="quantity_like">{{ parseNumber(44444) }}</p>
                                </div>


                                <div class="div_dizlike" >
                                    <img src="~/public/img/Facebook DizLike.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>
                                <div class="div_commnets" >
                                    <img src="~/public/img/Chat Message.svg" alt="NO" class="img_like" >
                                    <p class="quantity_like" >{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_viewing" >
                                    <img src="~/public/img/Eye.svg" alt="NO" class="img_like">
                                    <p class="quantity_view">{{ parseNumber(44444) }}</p>
                                </div>

                                <div class="div_share" >
                                    <img src="~/public/img/Share.svg" alt="NO" class="img_like" >
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                
            </div>
            <RedactorPublic :name="pub.data.value.name" :ava="pub.data.value.avatar" :description="pub.data.value.description" :subs="subs.data.value"/>
        </div>

</template>

<script setup>
import ("~/assets/css/second.css");
import '@fontsource-variable/inter';
import {useApiStore} from "~/stores/apiStore.js";

const api = useApiStore();
const route = useRoute();

const id = route.params.id;

const pub = await useAsyncData(() => api.getPublic(id));
const subs = await useAsyncData(() => api.getPublicSubCount(id));

function parseNumber(number) {
    if (number < 1000) {
        return number.toString();
    } else if (number < 1000000) {
        return (number / 1000).toFixed(1) + 'K';
    } else {
        return (number / 1000000).toFixed(1) + 'M';
    }
}

useHead({
  title: pub.data.value.name
})
</script>

<style scoped>
.main{
    display: grid;
    justify-content: center;
    max-width: 100%;
    grid-template-columns: 1fr 1fr 1fr;
    margin-top: 30px;
}

.content{
    width: 780px;
    display: flex;
    flex-direction: column;
    background-color: #FFFFFF;
}

.header{
    max-width: 100%;
    height: 70px;
    align-items: center;
    text-align: start;
    background-color: #8657E9;
    border-radius: 3px;
    padding-top: 20px;
    padding-left: 20px;
}

.text_header{
    font-size: 20px;
    font-weight: 500;
    color: #FFFFFF;
}

.padding{
    padding: 5px 10px;  
}

.posts_public{
    width: 100%;
    background-color: #FFFFFF;
    height: auto;
}

.posts{
    margin: 20px;
    border: 2px solid #8657E9;
}

.text_post{
    padding: 20px 10px 0px;
}

.interactions{
    display: flex;
    padding: 0 10px;
    gap: 10px;  
}

.img_like{
    width: 25px;
    height: 50px;
    cursor: pointer;
}

.quantity_like{
    padding-left: 5px;
    font-size: 15px;
    cursor: pointer;
}

.div_like, .div_dizlike, .div_share, .div_viewing, .div_commnets{
    display: flex;
    text-align: center;
    align-items: center;
}

.header_post{
    width: 100%;
    display: flex;
    flex-direction: column;
    background-color: #8657E9;
}
</style>